#:import C kivy.utils.get_color_from_hex


<MyButton@Button>:
    font_size: '15dp'
    background_color: 0, 0, 0, 0
    text_color: 1, 1, 1, 1
    padding_y: 20
    padding_x: 0
    on_press: app.from_input()

    canvas.before:
        Color:
            rgb: 0, 1, 0.635
    canvas.after:
        Color:
            rgb: 0, 0.263, 0.165 # Цвет закруглений
        Ellipse:
            angle_start:180
            angle_end:360
            pos:(self.pos[0] - self.size[1]/2.0, self.pos[1])
            size: (self.size[1], self.size[1])
        Ellipse:
            angle_start:360
            angle_end:540
            pos: (self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1])
            size: (self.size[1], self.size[1])

        Color:
            rgba: 0.282, 0, 0.541, 1 # Цвет рамки
        Line:
            points: self.pos[0] , self.pos[1], self.pos[0] + self.size[0], self.pos[1]
            width: 1.5
        Line:
            points: self.pos[0], self.pos[1] + self.size[1], self.pos[0] + self.size[0], self.pos[1] + self.size[1]
            width: 1.5
        Line:
            ellipse: self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 180, 360
            width: 1.5
        Line:
            ellipse: self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 360, 540
            width: 1.5




<MyTextInput@TextInput>:
    font_size: '15.5dp'
    background_color: 0, 0, 0, 0 # 0.322, 0.322, 0.322, 1
    cursor_color: 1, 1, 1, 1
    text_color: 1, 1, 1, 1
    multiline: False
    padding_y: 25
    padding_x: 0
    password_mask: '•'

    canvas.before:
        Color:
            rgba: 0, 0, 0, 1

    canvas.after:
        Color:
            rgb: 0.322, 0.322, 0.322 # Цвет закруглений
        Ellipse:
            angle_start:180
            angle_end:360
            pos:(self.pos[0] - self.size[1]/2.0, self.pos[1])
            size: (self.size[1], self.size[1])
        Ellipse:
            angle_start:360
            angle_end:540
            pos: (self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1])
            size: (self.size[1], self.size[1])

        Color:
            rgba: 0.282, 0, 0.541, 1 # Цвет рамки
        Line:
            points: self.pos[0] , self.pos[1], self.pos[0] + self.size[0], self.pos[1]
            width: 1.5
        Line:
            points: self.pos[0], self.pos[1] + self.size[1], self.pos[0] + self.size[0], self.pos[1] + self.size[1]
            width: 1.5
        Line:
            ellipse: self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 180, 360
            width: 1.5
        Line:
            ellipse: self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 360, 540
            width: 1.5


BoxLayout:
    orientation: 'vertical'

    BoxLayout:
        size_hint_y: .10
        canvas:
            Color:
                rgba: 0.075, 0, 0.141, 1 # Цвет фона
            Rectangle:
                pos:self.pos
                size:self.size

    BoxLayout:
        size_hint_y: .20
        canvas:
            Color:
                rgba: 0.075, 0, 0.141, 1 # Цвет фона
            Rectangle:
                pos:self.pos
                size:self.size
        Image:
            source: 'logo_vk.png'

    BoxLayout:
        orientation: 'vertical'
        size_hint_y: .55
        canvas:
            Color:
                rgba: 0.075, 0, 0.141, 1 # Цвет фона
            Rectangle:
                pos:self.pos
                size:self.size

        AnchorLayout:

            BoxLayout:
                spacing: 20
                orientation: 'vertical'
                size_hint_x: .70
                size_hint_y: .39

                BoxLayout:
                    canvas:
                        Color:
                            rgba: 0.322, 0.322, 0.322, 1
                        Rectangle:
                            pos:self.pos
                            size:self.size

                    MyTextInput:
                        id: email
                        hint_text: 'Email или телефон'

                BoxLayout:
                    canvas:
                        Color:
                            rgba: 0.322, 0.322, 0.322, 1
                        Rectangle:
                            pos:self.pos
                            size:self.size

                    MyTextInput:
                        id: password
                        hint_text: 'Пароль'
                        password: True

                BoxLayout:
                    canvas:
                        Color:
                            rgba: 0, 0.263, 0.165, 1
                        Rectangle:
                            pos:self.pos
                            size:self.size
                    MyButton:
                        text: 'Войти'
